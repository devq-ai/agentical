(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[124],{32719:function(e,n,s){Promise.resolve().then(s.bind(s,65226))},65226:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return V}});var t=s(57437),a=s(2265),r=s(99376),o=s(52542),l=s(19794);s(36190);var c=s(11239),i=s(13781),d=s(50091),x=s(91723),m=s(65302),h=s(32660),u=s(39763);let b=(0,u.Z)("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),g=(0,u.Z)("Redo",[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]]);var y=s(87769),p=s(42208);let j=(0,u.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var N=s(92735),f=s(83229),v=s(33276),w=s(18930),k=s(62869),Z=s(66070),C=s(95186),L=s(27129),S=s(65288),D=s(19378),z=s(94508),T=s(98728),E=s(35974),H=s(45131),I=s(22252);let M=(0,u.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);var R=s(29202);let _=(0,u.Z)("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]),A={start:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:c,executionStatus:i}=n;return(0,t.jsxs)(Z.Zb,{className:(0,z.cn)("min-w-[200px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-cyan shadow-neon-cyan/50 shadow-lg":"hover:shadow-md",(()=>{switch(i){case"running":return"border-neon-yellow bg-neon-yellow/10 animate-pulse";case"completed":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-cyan bg-neon-cyan/5"}})()),children:[(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(i){case"running":return(0,t.jsx)(v.Z,{className:"h-4 w-4 text-neon-yellow animate-spin"});case"completed":return(0,t.jsx)(v.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(v.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(v.Z,{className:"h-4 w-4 text-neon-cyan"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:"text-xs text-neon-cyan border-neon-cyan/50",children:"START"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:r.name}),r.description&&(0,t.jsx)("div",{className:"text-xs text-neon-cyan/70",children:r.description}),r.trigger&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsx)("span",{className:"text-xs text-neon-magenta",children:r.trigger})]})]}),c&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-cyan/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neon-yellow rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-neon-yellow",children:"Initializing..."})]})})]}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,className:"w-3 h-3 bg-neon-cyan border-2 border-cyber-dark hover:bg-neon-cyan/80",style:{right:-6}})]})},action:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:i,executionStatus:d,executionResult:h}=n;return(0,t.jsx)(Z.Zb,{className:(0,z.cn)("min-w-[200px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-cyan shadow-neon-cyan/50 shadow-lg":"hover:shadow-md",(()=>{switch(d){case"running":return"border-neon-yellow bg-neon-yellow/10 animate-pulse";case"completed":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-cyan bg-neon-cyan/5"}})()),children:(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsx)(o.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 bg-neon-cyan border-2 border-cyber-dark hover:bg-neon-cyan/80",style:{left:-6}}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(d){case"running":return(0,t.jsx)(x.Z,{className:"h-4 w-4 text-neon-yellow animate-spin"});case"completed":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(c.Z,{className:"h-4 w-4 text-neon-cyan"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:"text-xs text-neon-cyan border-neon-cyan/50",children:"ACTION"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:r.action?r.action.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "):"Configure Action"}),r.action&&(0,t.jsx)("div",{className:"text-xs text-neon-cyan/70 font-mono",children:r.action}),Object.keys(r.parameters).length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsxs)("span",{className:"text-xs text-neon-magenta",children:[Object.keys(r.parameters).length," parameter(s)"]})]}),r.timeout&&(0,t.jsxs)("div",{className:"text-xs text-neon-yellow/70",children:["Timeout: ",r.timeout,"ms"]})]}),i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-cyan/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neon-yellow rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-neon-yellow",children:"Executing..."})]})}),h&&"completed"===d&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsx)("div",{className:"text-xs text-neon-green",children:"✓ Completed successfully"})}),"error"===d&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsx)("div",{className:"text-xs text-neon-red",children:"✗ Execution failed"})}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,className:"w-3 h-3 bg-neon-cyan border-2 border-cyber-dark hover:bg-neon-cyan/80",style:{right:-6}})]})})},condition:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:c,executionStatus:d,executionResult:h}=n;return(0,t.jsx)(Z.Zb,{className:(0,z.cn)("min-w-[220px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-yellow shadow-neon-yellow/50 shadow-lg":"hover:shadow-md",(()=>{switch(d){case"running":return"border-neon-yellow bg-neon-yellow/10 animate-pulse";case"completed":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-yellow bg-neon-yellow/5"}})()),children:(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsx)(o.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 bg-neon-yellow border-2 border-cyber-dark hover:bg-neon-yellow/80",style:{left:-6}}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(d){case"running":return(0,t.jsx)(x.Z,{className:"h-4 w-4 text-neon-yellow animate-spin"});case"completed":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(i.Z,{className:"h-4 w-4 text-neon-yellow"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:"text-xs text-neon-yellow border-neon-yellow/50",children:"CONDITION"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:r.condition?r.condition.length>30?r.condition.substring(0,30)+"...":r.condition:"Configure Condition"}),r.operator&&r.variable&&(0,t.jsxs)("div",{className:"text-xs text-neon-yellow/70 font-mono",children:[r.variable," ",(()=>{switch(r.operator){case"equals":return"==";case"not_equals":return"!=";case"greater_than":return">";case"less_than":return"<";case"contains":return"∋";case"regex":return"~/";default:return"?"}})()," ",r.value]}),(r.condition||r.operator)&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsx)("span",{className:"text-xs text-neon-magenta",children:"Configured"})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex justify-between text-xs",children:[(0,t.jsx)("div",{className:"text-neon-green",children:r.trueLabel||"True"}),(0,t.jsx)("div",{className:"text-neon-red",children:r.falseLabel||"False"})]}),c&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-yellow/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neon-yellow rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-neon-yellow",children:"Evaluating..."})]})}),h&&"completed"===d&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsxs)("div",{className:"text-xs",children:[(0,t.jsxs)("span",{className:h.result?"text-neon-green":"text-neon-red",children:["→"," ",h.result?r.trueLabel:r.falseLabel]}),void 0!==h.value&&(0,t.jsxs)("div",{className:"text-neon-cyan/70 mt-1",children:["Value: ",JSON.stringify(h.value)]})]})}),"error"===d&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsx)("div",{className:"text-xs text-neon-red",children:"✗ Evaluation failed"})}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,id:"true",className:"w-3 h-3 bg-neon-green border-2 border-cyber-dark hover:bg-neon-green/80",style:{right:-6,top:"40%"}}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,id:"false",className:"w-3 h-3 bg-neon-red border-2 border-cyber-dark hover:bg-neon-red/80",style:{right:-6,top:"60%"}})]})})},end:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:c,executionStatus:i,executionResult:d}=n;return(0,t.jsx)(Z.Zb,{className:(0,z.cn)("min-w-[200px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-red shadow-neon-red/50 shadow-lg":"hover:shadow-md",(()=>{if("completed"===i)switch(r.status){case"success":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";case"cancelled":return"border-neon-yellow bg-neon-yellow/10";default:return"border-neon-cyan bg-neon-cyan/10"}switch(i){case"running":return"border-neon-cyan bg-neon-cyan/10 animate-pulse";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-red bg-neon-red/5"}})()),children:(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsx)(o.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 bg-neon-red border-2 border-cyber-dark hover:bg-neon-red/80",style:{left:-6}}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{if("completed"===i)switch(r.status){case"success":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});case"cancelled":return(0,t.jsx)(I.Z,{className:"h-4 w-4 text-neon-yellow"});default:return(0,t.jsx)(M,{className:"h-4 w-4 text-neon-cyan"})}switch(i){case"running":return(0,t.jsx)(M,{className:"h-4 w-4 text-neon-cyan animate-pulse"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(M,{className:"h-4 w-4 text-neon-red"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:(0,z.cn)("text-xs",(()=>{switch(r.status){case"success":return"text-neon-green border-neon-green/50";case"error":default:return"text-neon-red border-neon-red/50";case"cancelled":return"text-neon-yellow border-neon-yellow/50"}})()),children:"END"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:r.message?r.message.length>40?r.message.substring(0,40)+"...":r.message:"Configure End Message"}),r.status&&(0,t.jsx)("div",{className:"text-xs font-medium",children:(0,t.jsx)("span",{className:(0,z.cn)("success"===r.status?"text-neon-green":"error"===r.status?"text-neon-red":"cancelled"===r.status?"text-neon-yellow":"text-neon-cyan"),children:r.status.toUpperCase()})}),(r.notifications&&(r.notifications.email||r.notifications.webhook||r.notifications.slack)||r.cleanup||r.outputData)&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsxs)("span",{className:"text-xs text-neon-magenta",children:[r.notifications&&(r.notifications.email||r.notifications.webhook||r.notifications.slack)&&"".concat((()=>{if(!r.notifications)return 0;let e=0;return r.notifications.email&&e++,r.notifications.webhook&&e++,r.notifications.slack&&e++,e})()," notification(s)"),r.cleanup&&(r.notifications&&(r.notifications.email||r.notifications.webhook||r.notifications.slack)?" • ":"")+"Cleanup",r.outputData&&(r.notifications&&(r.notifications.email||r.notifications.webhook||r.notifications.slack)||r.cleanup?" • ":"")+"Output"]})]})]}),c&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neon-cyan rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-neon-cyan",children:"Finalizing..."})]})}),d&&"completed"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsxs)("div",{className:"text-xs space-y-1",children:[(0,t.jsx)("div",{className:"text-neon-green",children:"✓ Playbook completed"}),(0,t.jsxs)("div",{className:"text-neon-cyan/70",children:["Status: ",d.finalStatus]}),(0,t.jsxs)("div",{className:"text-neon-cyan/70",children:["Total time: ",d.executionTime,"ms"]}),d.outputData&&(0,t.jsxs)("div",{className:"text-neon-cyan/70",children:["Output: ",JSON.stringify(d.outputData).length,"B"]})]})}),"error"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsx)("div",{className:"text-xs text-neon-red",children:"✗ Playbook failed"})})]})})},api:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:c,executionStatus:i,executionResult:h}=n,u=()=>h?"".concat(h.status," ").concat(h.statusText):"",b=()=>{if(null==h?void 0:h.data){let e=JSON.stringify(h.data).length;return e>1024?"".concat((e/1024).toFixed(1),"KB"):"".concat(e,"B")}return""};return(0,t.jsx)(Z.Zb,{className:(0,z.cn)("min-w-[240px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-magenta shadow-neon-magenta/50 shadow-lg":"hover:shadow-md",(()=>{switch(i){case"running":return"border-neon-magenta bg-neon-magenta/10 animate-pulse";case"completed":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-magenta bg-neon-magenta/5"}})()),children:(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsx)(o.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 bg-neon-magenta border-2 border-cyber-dark hover:bg-neon-magenta/80",style:{left:-6}}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(i){case"running":return(0,t.jsx)(x.Z,{className:"h-4 w-4 text-neon-magenta animate-spin"});case"completed":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(d.Z,{className:"h-4 w-4 text-neon-magenta"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:(0,z.cn)("text-xs border-neon-magenta/50",(()=>{switch(r.method){case"GET":return"text-neon-green border-neon-green/50";case"POST":default:return"text-neon-cyan border-neon-cyan/50";case"PUT":return"text-neon-yellow border-neon-yellow/50";case"DELETE":return"text-neon-red border-neon-red/50";case"PATCH":return"text-neon-magenta border-neon-magenta/50"}})()),children:r.method||"API"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:(()=>{if(!r.url)return"Configure API Endpoint";try{let e=new URL(r.url);return"".concat(e.hostname).concat(e.pathname)}catch(e){return r.url.length>25?r.url.substring(0,25)+"...":r.url}})()}),r.url&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(R.Z,{className:"h-3 w-3 text-neon-cyan"}),(0,t.jsx)("span",{className:"text-xs text-neon-cyan/70 font-mono",children:r.method})]}),r.url&&r.method&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsxs)("span",{className:"text-xs text-neon-magenta",children:[r.authentication&&"none"!==r.authentication.type?r.authentication.type.toUpperCase():"No Auth",Object.keys(r.headers).length>0&&" • ".concat(Object.keys(r.headers).length," header(s)")]})]}),r.timeout&&(0,t.jsxs)("div",{className:"text-xs text-neon-yellow/70",children:["Timeout: ",r.timeout,"ms"]})]}),c&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-magenta/20",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-neon-magenta rounded-full animate-pulse"}),(0,t.jsx)("span",{className:"text-xs text-neon-magenta",children:"Making request..."})]})}),h&&"completed"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsxs)("div",{className:"text-xs space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-neon-green",children:["✓ ",u()]}),(0,t.jsxs)("span",{className:"text-neon-cyan/70",children:[h.duration,"ms"]})]}),b()&&(0,t.jsxs)("div",{className:"text-neon-cyan/70",children:["Response: ",b()]})]})}),"error"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsxs)("div",{className:"text-xs text-neon-red",children:["✗ Request failed",h&&(0,t.jsx)("div",{className:"mt-1",children:u()||"Network error"})]})}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,className:"w-3 h-3 bg-neon-magenta border-2 border-cyber-dark hover:bg-neon-magenta/80",style:{right:-6}})]})})},delay:function(e){let{data:n,selected:s}=e,{label:a,config:r,isExecuting:c,executionStatus:i,executionResult:d,remainingTime:h}=n,u=()=>{switch(r.unit){case"seconds":return 1e3*r.duration;case"minutes":return 6e4*r.duration;case"hours":return 36e5*r.duration;default:return r.duration}};return(0,t.jsx)(Z.Zb,{className:(0,z.cn)("min-w-[200px] transition-all duration-200 backdrop-blur-sm",s?"ring-2 ring-neon-green shadow-neon-green/50 shadow-lg":"hover:shadow-md",(()=>{switch(i){case"running":return"border-neon-green bg-neon-green/10 animate-pulse";case"completed":return"border-neon-green bg-neon-green/10";case"error":return"border-neon-red bg-neon-red/10";default:return"border-neon-green bg-neon-green/5"}})()),children:(0,t.jsxs)(Z.aY,{className:"p-4",children:[(0,t.jsx)(o.HH,{type:"target",position:l.Ly.Left,className:"w-3 h-3 bg-neon-green border-2 border-cyber-dark hover:bg-neon-green/80",style:{left:-6}}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(()=>{switch(i){case"running":return(0,t.jsx)(_,{className:"h-4 w-4 text-neon-green animate-pulse"});case"completed":return(0,t.jsx)(m.Z,{className:"h-4 w-4 text-neon-green"});case"error":return(0,t.jsx)(H.Z,{className:"h-4 w-4 text-neon-red"});default:return(0,t.jsx)(x.Z,{className:"h-4 w-4 text-neon-green"})}})(),(0,t.jsx)("span",{className:"font-semibold text-white text-sm",children:a})]}),(0,t.jsx)(E.C,{variant:"outline",className:"text-xs text-neon-green border-neon-green/50",children:"DELAY"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-white/90",children:r.duration?"".concat(r.duration," ").concat(r.unit):"Configure Duration"}),r.description&&(0,t.jsx)("div",{className:"text-xs text-neon-green/70",children:r.description}),r.duration&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(T.Z,{className:"h-3 w-3 text-neon-magenta"}),(0,t.jsxs)("span",{className:"text-xs text-neon-magenta",children:[u(),"ms total"]})]})]}),c&&h&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-neon-green",children:"Waiting..."}),(0,t.jsx)("span",{className:"text-xs text-neon-green/70",children:h?h<1e3?"".concat(h,"ms"):h<6e4?"".concat(Math.ceil(h/1e3),"s"):h<36e5?"".concat(Math.ceil(h/6e4),"m"):"".concat(Math.ceil(h/36e5),"h"):""})]}),(0,t.jsx)("div",{className:"w-full bg-cyber-dark/50 rounded-full h-1.5",children:(0,t.jsx)("div",{className:"bg-neon-green rounded-full h-1.5 transition-all duration-1000 ease-linear",style:{width:"".concat((()=>{if(!c||!h)return 0;let e=u();return Math.min(100,Math.max(0,(e-h)/e*100))})(),"%")}})})]})}),d&&"completed"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-green/20",children:(0,t.jsxs)("div",{className:"text-xs text-neon-green",children:["✓ Delay completed",(0,t.jsxs)("div",{className:"text-neon-cyan/70 mt-1",children:["Duration: ",d.actualDuration,"ms"]})]})}),"error"===i&&(0,t.jsx)("div",{className:"mt-3 pt-2 border-t border-neon-red/20",children:(0,t.jsx)("div",{className:"text-xs text-neon-red",children:"✗ Delay interrupted"})}),(0,t.jsx)(o.HH,{type:"source",position:l.Ly.Right,className:"w-3 h-3 bg-neon-green border-2 border-cyber-dark hover:bg-neon-green/80",style:{right:-6}})]})})}},O=[{id:"1",type:"start",position:{x:100,y:100},data:{label:"Start",config:{name:"Playbook Start",description:"Entry point of the playbook"}}}],P=[],U=[{type:"action",label:"Action",icon:c.Z,description:"Execute an action",color:"text-neon-cyan"},{type:"condition",label:"Condition",icon:i.Z,description:"Conditional logic",color:"text-neon-yellow"},{type:"api",label:"API Call",icon:d.Z,description:"Make API request",color:"text-neon-magenta"},{type:"delay",label:"Delay",icon:x.Z,description:"Wait/pause execution",color:"text-neon-green"},{type:"end",label:"End",icon:m.Z,description:"End the playbook",color:"text-neon-red"}];function Y(){var e;let n=(0,r.useSearchParams)(),s=(0,r.useRouter)(),c=n.get("id"),i=(0,a.useRef)(null),[d,x]=(0,a.useState)(null),[m,u,T]=(0,o.Rr)(O),[E,H,I]=(0,o.ll)(P),[M,R]=(0,a.useState)(null),[_,Y]=(0,a.useState)(!0),[V,q]=(0,a.useState)(!0),[B,F]=(0,a.useState)(!1),[J,G]=(0,a.useState)(null),[W,X]=(0,a.useState)(!1),[K,$]=(0,a.useState)({name:"New Playbook",description:"A new automation playbook",category:"automation",tags:[],version:"1.0.0",author:"User"}),[Q,ee]=(0,a.useState)([]),[en,es]=(0,a.useState)(-1);(0,a.useEffect)(()=>{c&&et(c)},[c]);let et=async e=>{},ea=(0,a.useCallback)(e=>H(n=>(0,l.Z_)(e,n)),[H]),er=(0,a.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="move",X(!0)},[]),eo=(0,a.useCallback)(()=>{X(!1)},[]),el=(0,a.useCallback)(e=>{if(e.preventDefault(),X(!1),!i.current||!d)return;let n=i.current.getBoundingClientRect(),s=e.dataTransfer.getData("application/reactflow");if(!s)return;let t=d.project({x:e.clientX-n.left,y:e.clientY-n.top}),a={id:"".concat(s,"-").concat(Date.now()),type:s,position:t,data:{label:s.charAt(0).toUpperCase()+s.slice(1),config:ei(s)}};u(e=>e.concat(a)),ed()},[d,u]),ec=(e,n)=>{e.dataTransfer.setData("application/reactflow",n),e.dataTransfer.effectAllowed="move"},ei=e=>{switch(e){case"action":return{action:"",parameters:{}};case"condition":return{condition:"",trueLabel:"Yes",falseLabel:"No"};case"api":return{method:"GET",url:"",headers:{},body:{}};case"delay":return{duration:1e3,unit:"ms"};case"end":return{status:"success",message:"Playbook completed"};default:return{}}},ed=()=>{let e=Q.slice(0,en+1);e.push({nodes:m,edges:E}),ee(e),es(e.length-1)},ex=(0,a.useCallback)((e,n)=>{R(n)},[]),em=(0,a.useCallback)(()=>{M&&(u(e=>e.filter(e=>e.id!==M.id)),H(e=>e.filter(e=>e.source!==M.id&&e.target!==M.id)),R(null),ed())},[M,u,H]),eh=(e,n)=>{u(s=>s.map(s=>s.id===e?{...s,data:{...s.data,...n}}:s)),ed()},eu=async()=>{try{({...K,updatedAt:new Date().toISOString()})}catch(e){}},eb=async()=>{F(!0);try{var e;G({currentNodeId:null===(e=m[0])||void 0===e?void 0:e.id,status:"running"}),setTimeout(()=>{G({status:"completed"}),F(!1)},3e3)}catch(e){F(!1)}};return(0,t.jsxs)("div",{className:"h-screen bg-cyber-dark flex flex-col",children:[(0,t.jsx)("div",{className:"border-b border-neon-cyan/30 bg-black/50 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:()=>s.back(),className:"text-neon-cyan hover:bg-neon-cyan/10",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Back"]}),(0,t.jsx)(S.Z,{orientation:"vertical",className:"h-6"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-neon-cyan",children:K.name}),(0,t.jsx)("p",{className:"text-sm text-neon-cyan/60",children:K.description})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.z,{variant:"ghost",size:"sm",onClick:()=>{if(en>0){let e=Q[en-1];e&&(u(e.nodes),H(e.edges),es(en-1))}},disabled:en<=0,className:"text-neon-cyan hover:bg-neon-cyan/10",children:(0,t.jsx)(b,{className:"h-4 w-4"})}),(0,t.jsx)(k.z,{variant:"ghost",size:"sm",onClick:()=>{if(en<Q.length-1){let e=Q[en+1];e&&(u(e.nodes),H(e.edges),es(en+1))}},disabled:en>=Q.length-1,className:"text-neon-cyan hover:bg-neon-cyan/10",children:(0,t.jsx)(g,{className:"h-4 w-4"})}),(0,t.jsx)(S.Z,{orientation:"vertical",className:"h-6"}),(0,t.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:()=>Y(!_),className:"text-neon-cyan hover:bg-neon-cyan/10",children:[_?(0,t.jsx)(y.Z,{className:"h-4 w-4"}):(0,t.jsx)(p.Z,{className:"h-4 w-4"}),"Nodes"]}),(0,t.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:()=>q(!V),className:"text-neon-cyan hover:bg-neon-cyan/10",children:[V?(0,t.jsx)(y.Z,{className:"h-4 w-4"}):(0,t.jsx)(p.Z,{className:"h-4 w-4"}),"Properties"]}),(0,t.jsx)(S.Z,{orientation:"vertical",className:"h-6"}),(0,t.jsx)("input",{type:"file",accept:".json",onChange:e=>{var n;let s=null===(n=e.target.files)||void 0===n?void 0:n[0];if(s){let e=new FileReader;e.onload=e=>{try{var n;let s=JSON.parse(null===(n=e.target)||void 0===n?void 0:n.result);$(s),u(s.nodes||[]),H(s.edges||[]),ed()}catch(e){}},e.readAsText(s)}},className:"hidden",id:"import-file"}),(0,t.jsx)(k.z,{variant:"ghost",size:"sm",onClick:()=>{var e;return null===(e=document.getElementById("import-file"))||void 0===e?void 0:e.click()},className:"text-neon-cyan hover:bg-neon-cyan/10",children:(0,t.jsx)(j,{className:"h-4 w-4"})}),(0,t.jsx)(k.z,{variant:"ghost",size:"sm",onClick:()=>{let e="data:application/json;charset=utf-8,"+encodeURIComponent(JSON.stringify({...K,nodes:m,edges:E},null,2)),n="".concat(K.name.replace(/\s+/g,"_"),".json"),s=document.createElement("a");s.setAttribute("href",e),s.setAttribute("download",n),s.click()},className:"text-neon-cyan hover:bg-neon-cyan/10",children:(0,t.jsx)(N.Z,{className:"h-4 w-4"})}),(0,t.jsxs)(k.z,{variant:"ghost",size:"sm",onClick:eu,className:"text-neon-green hover:bg-neon-green/10",children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Save"]}),(0,t.jsxs)(k.z,{size:"sm",onClick:eb,disabled:B,className:"btn-neon text-neon-magenta",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 mr-2"}),B?"Running...":"Run"]})]})]})}),(0,t.jsxs)("div",{className:"flex-1 flex",children:[_&&(0,t.jsx)("div",{className:"w-64 border-r border-neon-cyan/30 bg-black/30 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-neon-cyan mb-4",children:"Node Types"}),(0,t.jsx)("div",{className:"space-y-2",children:U.map(e=>{let n=e.icon;return(0,t.jsxs)("div",{className:"flex items-center p-3 rounded-lg border border-neon-cyan/20 bg-cyber-dark hover:bg-neon-cyan/5 cursor-move transition-colors",draggable:!0,onDragStart:n=>ec(n,e.type),children:[(0,t.jsx)(n,{className:(0,z.cn)("h-5 w-5 mr-3",e.color)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-white",children:e.label}),(0,t.jsx)("div",{className:"text-xs text-neon-cyan/60",children:e.description})]})]},e.type)})})]})}),(0,t.jsx)("div",{className:"flex-1 relative",children:(0,t.jsx)(o.tV,{children:(0,t.jsx)("div",{ref:i,className:(0,z.cn)("w-full h-full",W&&"bg-neon-cyan/5"),children:(0,t.jsxs)(o.x$,{nodes:m,edges:E,onNodesChange:T,onEdgesChange:I,onConnect:ea,onInit:x,onDrop:el,onDragOver:er,onDragLeave:eo,onNodeClick:ex,nodeTypes:A,className:"bg-cyber-dark",fitView:!0,children:[(0,t.jsx)(o.Aq,{color:"#00ffff",gap:20,size:1,className:"opacity-20"}),(0,t.jsx)(o.ZX,{className:"bg-black/50 border border-neon-cyan/30"}),(0,t.jsx)(o.a9,{className:"bg-black/80 border border-neon-cyan/30",nodeColor:"#00ffff",maskColor:"rgba(0, 0, 0, 0.8)"}),J&&(0,t.jsx)(o.s_,{position:"top-center",children:(0,t.jsx)(Z.Zb,{className:"bg-black/90 border-neon-magenta/30",children:(0,t.jsx)(Z.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-neon-magenta",children:[(0,t.jsx)(v.Z,{className:"h-4 w-4 animate-pulse"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"running"===J.status?"Executing...":"Completed"})]})})})})]})})})}),V&&(0,t.jsx)("div",{className:"w-80 border-l border-neon-cyan/30 bg-black/30 backdrop-blur-sm",children:(0,t.jsx)(D.x,{className:"h-full",children:(0,t.jsx)("div",{className:"p-4",children:M?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-neon-cyan",children:"Node Properties"}),(0,t.jsx)(k.z,{variant:"ghost",size:"sm",onClick:em,className:"text-neon-red hover:bg-neon-red/10",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Node ID"}),(0,t.jsx)(C.I,{value:M.id,disabled:!0,className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Type"}),(0,t.jsx)(C.I,{value:M.type||"unknown",disabled:!0,className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Label"}),(0,t.jsx)(C.I,{value:String((null===(e=M.data)||void 0===e?void 0:e.label)||""),onChange:e=>eh(M.id,{label:e.target.value}),className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-neon-cyan/20",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-neon-cyan mb-2",children:"Configuration"}),(0,t.jsx)("div",{className:"text-xs text-neon-cyan/60",children:"Node-specific settings will be displayed here based on node type."})]})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-semibold text-neon-cyan mb-4",children:"Playbook Settings"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Name"}),(0,t.jsx)(C.I,{value:K.name,onChange:e=>$({...K,name:e.target.value}),className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Description"}),(0,t.jsx)(C.I,{value:K.description,onChange:e=>$({...K,description:e.target.value}),className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Category"}),(0,t.jsx)(C.I,{value:K.category,onChange:e=>$({...K,category:e.target.value}),className:"bg-cyber-dark border-neon-cyan/30 text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(L._,{className:"text-neon-cyan",children:"Version"}),(0,t.jsx)(C.I,{value:K.version,onChange:e=>$({...K,version:e.target.value}),className:"bg-cyber-dark border-neon-cyan/30 text-white"})]})]})]})})})})]})]})}function V(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"h-screen bg-cyber-dark flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-neon-cyan",children:"Loading editor..."})}),children:(0,t.jsx)(Y,{})})}},95186:function(e,n,s){"use strict";s.d(n,{I:function(){return o}});var t=s(57437),a=s(2265),r=s(94508);let o=a.forwardRef((e,n)=>{let{className:s,type:a,...o}=e;return(0,t.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:n,...o})});o.displayName="Input"},27129:function(e,n,s){"use strict";s.d(n,{_:function(){return d}});var t=s(57437),a=s(2265),r=s(66840),o=a.forwardRef((e,n)=>(0,t.jsx)(r.WV.label,{...e,ref:n,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));o.displayName="Label";var l=s(90535),c=s(94508);let i=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,n)=>{let{className:s,...a}=e;return(0,t.jsx)(o,{ref:n,className:(0,c.cn)(i(),s),...a})});d.displayName=o.displayName},29202:function(e,n,s){"use strict";s.d(n,{Z:function(){return t}});let t=(0,s(39763).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},83229:function(e,n,s){"use strict";s.d(n,{Z:function(){return t}});let t=(0,s(39763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},18930:function(e,n,s){"use strict";s.d(n,{Z:function(){return t}});let t=(0,s(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[299,167,62,398,927,665,90,971,117,744],function(){return e(e.s=32719)}),_N_E=e.O()}]);